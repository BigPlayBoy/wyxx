<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise</title>
</head>

<body>
    <h1 id="h">这里是Promise函数</h1>
    <h1 id="h2">这里是Promise函数</h1>
    <script>
        const p = new Promise((resolve, reject) => {
            if (document.getElementById("h1")) {
                resolve(document.getElementById("h1"));
            } else {
                reject("没有找到h1");
            }

        });
        p.then((succ) => {
            console.log(succ);
        }).catch(err => {
            console.log("被catch捕获的错误", err);
            return new Promise(() => {
                if (document.getElementById("h2")) {
                    resolve(document.getElementById("h2"));
                } else {
                    reject("没有找到h1");
                }
            });
        }).then(() => {
            console.log("1");
        }, () => {
            console.log("2");
        }).finally(()=>{
            console.log("最后执行的函数  finally");
        });
    </script>
</body>

</html>